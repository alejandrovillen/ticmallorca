<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory">Chapter 10. JBossWS-Endpointmanagement</title><link rel="stylesheet" href="css/jbossorg.css" type="text/css"/><meta xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="JBossWS-CXF Guide"/><link rel="up" href="Additional documentation.html" title="Part II. Additional documentation"/><link rel="prev" href="chap_JBossWS-Securetransport.html" title="Chapter 9. JBossWS-Securetransport"/><link rel="next" href="chap_JBossWS-Recordsmanagement.html" title="Chapter 11. JBossWS-Recordsmanagement"/></head><body><p id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="chap_JBossWS-Securetransport.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="chap_JBossWS-Recordsmanagement.html"><strong>Next</strong></a></li></ul><div class="chapter" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="chap_JBossWS-Endpointmanagement"/>Chapter 10. JBossWS-Endpointmanagement</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="chap_JBossWS-Endpointmanagement.html#JBossWS-Endpointmanagement_Getting_the_information">10.1. Getting the information</a></span></dt><dt><span class="section"><a href="chap_JBossWS-Endpointmanagement.html#JBossWS-Endpointmanagement_Metrics">10.2. Metrics</a></span></dt><dt><span class="section"><a href="chap_JBossWS-Endpointmanagement.html#JBossWS-Endpointmanagement_Records">10.3. Records</a></span></dt><dt><span class="section"><a href="chap_JBossWS-Endpointmanagement.html#JBossWS-Endpointmanagement_Snapshots_and_threshold_monitors">10.4. Snapshots and threshold monitors</a></span></dt></dl></div><p>JBossWS registers MBeans that users can leverage to manage every webservice endpoint. Apart from the obvious start/stop functionalities, they provide valuable information and statistics about messages processed by the endpoints.</p><p/><p> </p><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="JBossWS-Endpointmanagement_Getting_the_information"/>10.1. Getting the information</h2></div></div></div><p>JBoss ships with a JMX-Console with all the application server MBeans. It is usually available at URL <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/jmx-console">http://localhost:8080/jmx-console</a>. For endpoint management you might be interested in the MBeans belonging to the jboss.ws domain.</p><p>The application server also has an applet based web-console which basically has the same data as the JMX-Console plus some advanced features including snapshot graphics.</p><p>Of course you can access an MBean programmatically too. Please refer to the <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://wiki.jboss.org/wiki/Wiki.jsp?page=FAQJBossJMX">JBoss JMX faq</a> for further details; here is a brief code snippet you might want to start from in order to access a ManagedEndpointMBean from the same virtual machine:</p><pre class="screen"><span class="bold"><strong>try</strong></span>
{
  MBeanServer server = MBeanServerLocator.locate();
  ManagedEndpointMBean mep = (ManagedEndpointMBean)MBeanProxyExt.create(
            ManagedEndpointMBean.class,
            "jboss.ws:context=my-ctx,endpoint=MyEndpoit",
            server);
  ...
}
<span class="bold"><strong>catch</strong></span> (Exception e)
{
  e.printStackTrace();
}
</pre></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="JBossWS-Endpointmanagement_Metrics"/>10.2. Metrics</h2></div></div></div><p>For each deployed endpoint you'll find an <span class="emphasis"><em>org.jboss.wsf.framework.management.ManagedEndpoint</em></span> MBean providing basic start/stop functionalities and metrics. Calling a stopped endpoint will always result in a SOAP fault message.</p><p>The metrics available for each managed endpoint are:</p><div class="itemizedlist"><ul><li><p> Min, max, average and total processing time: processing includes both the WS stack plus application server work and the user business logic </p></li><li><p> Last start and stop time </p></li><li><p> Request, response and fault count</p></li></ul></div></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="JBossWS-Endpointmanagement_Records"/>10.3. Records</h2></div></div></div><p>JBossWS features a highly configurable records' collection and management system. Each record is basically composed of a message plus additional information (for example the caller address and the called endpoint operation).</p><p>Endpoints can be configured with record processors that are invoked whenever a message flow is detected and records are thus created.</p><p>Every deployed endpoint is configured with default record processors. However custom processors as well as record filters can be easily plugged in and managed at any time through JMX. This gives users the chance of performing advanced analysis of the webservice traffic according to their business requirements.</p><p>Please refer to the <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://jbossws.jboss.org/mediawiki/index.php?title=Records_management">records management page</a> for further details.</p></div><div class="section" lang="en-US"><div class="titlepage"><div><div><h2 class="title"><a id="JBossWS-Endpointmanagement_Snapshots_and_threshold_monitors"/>10.4. Snapshots and threshold monitors</h2></div></div></div><p>As previously said, the <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://wiki.jboss.org/wiki/Wiki.jsp?page=WebConsole">JBoss Web Console</a> has interesting features including <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://wiki.jboss.org/wiki/Wiki.jsp?page=WebConsoleSnapshots">snapshots</a> and <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://wiki.jboss.org/wiki/Wiki.jsp?page=WebConsoleMonitoring">threshold monitors</a>.</p><p>Snapshots allow users to record changes of a given MBean attribute within a defined time interval. Data are sampled at a given rate and may be plotted to graphs with a few clicks. Snapshots are listed in the Web console and can be created simply browsing to <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/web-console/createSnapshot.jsp">http://localhost:8080/web-console/createSnapshot.jsp</a> .</p><p>Threshold monitors allow users to be notified whenever a given MBean attribute exceed a certain range of values. The threshold monitor's creation and management processes are similar to those mentioned above for the snapshots. Simply browse to <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/web-console/createThresholdMonitor.jsp">http://localhost:8080/web-console/createThresholdMonitor.jsp</a> .</p><p>Speaking of WS availability and SLA, this all becomes interesting because users can monitor and take snapshots of critical attributes like the average/max processing time of a managed endpoint. Moreover, advanced analysis can be performed leveraging ad-hoc attributes of custom <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://jbossws.jboss.org/mediawiki/index.php?title=Endpoint_management#Records">record processors</a>.</p></div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="chap_JBossWS-Securetransport.html"><strong>Prev</strong>Chapter 9. JBossWS-Securetransport</a></li><li class="up"><a accesskey="u" href="#"><strong>Top of page</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Front page</strong></a></li><li class="next"><a accesskey="n" href="chap_JBossWS-Recordsmanagement.html"><strong>Next</strong>Chapter 11. JBossWS-Recordsmanagement</a></li></ul></body></html>